# Generated using kibot --quick-start command
# Olin Electric Motorsports v1 - 08-27-2025

kibot:
  version: 1

import:
- file: JLCPCB
  definitions:
    _KIBOT_MANF_DIR: kibot_output/Manufacturing Files
    _KIBOT_POS_PRE_TRANSFORM: '[''_kicost_rename'', ''_rot_footprint'']'
    _KIBOT_BOM_ENABLED: 'false'

preflight:
  drc:
    dont_stop: true
    format: HTML,JSON,CSV
    dir: kibot_output/DRC
  erc:
    dont_stop: true
    format: HTML,JSON,CSV
    dir: kibot_output/ERC
  # set_text_variables:
  #   - name: 'git_hash'
  #     command: 'git log -1 --format="%h" "$KIBOT_PCB_NAME"'
  #     before: 'Git hash: <'
  #     after: '>'

outputs:
- name: generic_bom_html
  comment: Generic Bill of Materials in HTML format
  type: bom
  dir: kibot_output/BoM/Generic
  options:
    format: HTML
    group_fields: &id001
    - part
    - part lib
    - value
    - footprint
    - footprint lib
    - voltage
    - tolerance
    - current
    - power
    - mpn
    count_smd_tht: true
- name: generic_bom_csv
  comment: Generic Bill of Materials in CSV format
  type: bom
  dir: kibot_output/BoM/Generic
  options:
    format: CSV
    group_fields: *id001
    count_smd_tht: true
- name: generic_bom_xlsx
  comment: Generic Bill of Materials in XLSX format
  type: bom
  dir: kibot_output/BoM/Generic
  options:
    format: XLSX
    group_fields: *id001
    count_smd_tht: true
- name: kicad_internal_bom
  type: bom
  dir: kibot_output/BoM/KiCad
  comment: BoM using KiCad settings
  options:
    format: KICAD
    ignore_dnf: false
    group_not_fitted: true
    group_fields: []
    sort_style: kicad_bom
    columns:
    - _kicad_bom_fields
- name: basic_diff_pcb
  comment: PCB diff between the last two changes
  type: diff
  dir: kibot_output/Diff
  layers: 'all'
  options:
    old: KIBOT_LAST-1
    old_type: git
    new: HEAD
    new_type: git
    add_link_id: true
- name: basic_diff_sch
  comment: Schematic diff between the last two changes
  type: diff
  dir: kibot_output/Diff
  options:
    old: KIBOT_LAST-1
    old_type: git
    new: HEAD
    new_type: git
    add_link_id: true
    pcb: false
- name: basic_export_3d_step
  comment: 3D model in STEP format
  type: export_3d
  dir: kibot_output/3D
  options:
    format: step
- name: basic_ibom
  comment: Interactive HTML BoM
  type: ibom
  dir: kibot_output/Assembly
- name: basic_info
  comment: Information about the run
  type: info
  dir: kibot_output/.
- name: basic_pcb_print_pdf
  comment: PCB
  type: pcb_print
  dir: kibot_output/.
  options:
    format: PDF
    pages:
    - layers: 'all'
- name: basic_pdf_sch_print
  comment: Schematic in PDF format
  type: pdf_sch_print
  dir: kibot_output/.
- name: report_full
  comment: Full design report
  type: report
  dir: kibot_output/Report
  options:
    template: full
    do_convert: true

...
definitions:
  _KIBOT_MANF_DIR_COMP: kibot_output/Manufacturing Files
  _KIBOT_GERBER_LAYERS: "- layer: 'F.Cu'\n        suffix: 'F_Cu'\n        description:\
    \ 'Front copper'\n      - layer: 'F.Mask'\n        suffix: 'F_Mask'\n        description:\
    \ 'Front soldermask (negative)'\n      - layer: 'B.Cu'\n        suffix: 'B_Cu'\n\
    \        description: 'Bottom copper'\n      - layer: 'B.Mask'\n        suffix:\
    \ 'B_Mask'\n        description: 'Bottom soldermask (negative)'\n      - layer:\
    \ 'F.Silkscreen'\n        suffix: 'F_Silkscreen'\n        description: 'Front\
    \ silkscreen (artwork)'\n      - layer: 'B.Silkscreen'\n        suffix: 'B_Silkscreen'\n\
    \        description: 'Bottom silkscreen (artwork)'\n      - layer: 'F.Paste'\n\
    \        suffix: 'F_Paste'\n        description: 'Front solder paste'\n      -\
    \ layer: 'Edge.Cuts'\n        suffix: 'Edge_Cuts'\n        description: 'Board\
    \ shape'"
